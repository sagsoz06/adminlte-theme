(function(){function Q(){return"ckeditor";}function b(T){return T.elementMode==3;}function P(T){return T.name.replace(/\[/,"_").replace(/\]/,"_");}function S(T){return T.container.$;}function c(T){return T.document.$;}function L(T){return T.getSnapshot();}function o(U,T){U.loadSnapshot(T);}function j(U){if(U.getSelection()==null){return null;}var T=U.getSelection().getStartElement();if(T&&T.$){return T.$;}return null;}function h(){return CKEDITOR.basePath;}function G(){return a("jsplus_easy_file");}function a(T){return CKEDITOR.plugins.getPath(T);}function r(){return CKEDITOR.version.charAt(0)=="3"?3:4;}function i(){return"";}function F(V,U){if(r()==3){var T=(U.indexOf("jsplus_easy_file_")==-1)?("jsplus_easy_file_"+U):U;if(typeof(V.lang[T])!=="undefined"){return V.lang[T];}else{console.log("(v3) editor.lang['jsplus_easy_file'] not defined");}}else{if(typeof(V.lang["jsplus_easy_file"])!=="undefined"){if(typeof(V.lang["jsplus_easy_file"][U])!=="undefined"){return V.lang["jsplus_easy_file"][U];}else{console.log("editor.lang['jsplus_easy_file']['"+U+"'] not defined");}}else{console.log("editor.lang['jsplus_easy_file'] not defined");}}return"";}function n(U,T){return w(U,"jsplus_easy_file_"+T);}function w(U,T){var V=U.config[T];return V;}function M(T,U){R("jsplus_easy_file_"+T,U);}function R(T,U){CKEDITOR.config[T]=U;}function p(V,U){var T=CKEDITOR.dom.element.createFromHtml(U);if(T.type==CKEDITOR.NODE_TEXT){V.insertText(U);}else{V.insertElement(T);}}function z(){return"";}var A=0;var e=1;var I=2;function g(T,W,U){var V=null;if(U==A){V=CKEDITOR.TRISTATE_DISABLED;}else{if(U==e){V=CKEDITOR.TRISTATE_OFF;}else{if(U==I){V=CKEDITOR.TRISTATE_ON;}}}if(V!=null&&T.ui&&T.ui.get(W)){T.ui.get(W).setState(V);}}function x(T,U){T.on("selectionChange",function(V){U(V.editor);});}function J(U,T,V){if(T=="beforeGetOutputHTML"){U.on("toDataFormat",function(W){return V(U,W.data.dataValue);},null,null,4);return;}U.on(T,(function(){var W=U;return function(){V(W);};})());}function D(V,T,Y,W,X,U){V.addCommand(T,{exec:X});V.ui.addButton(T,{title:F(V,W.replace(/^jsplus_/,"")),label:F(V,W.replace(/^jsplus_/,"")),icon:G()+"icons/"+Y+".png",command:Y});}function s(T){return T.mode=="wysiwyg";}function E(U,T,V){CKEDITOR.plugins.add(U,{icons:U,lang:T,init:function(W){V(W);}});}function B(){JSDialog.Config.skin=null;JSDialog.Config.templateDialog='<div class="jsdialog_plugin_jsplus_easy_file jsdialog_dlg cke_dialog cke_ltr">'+'<div class="cke_dialog_body">'+'<div class="jsdialog_title cke_dialog_title">'+'<div class="jsdialog_title_text"></div>'+'<a class="jsdialog_x cke_dialog_close_button" href="javascript:void(0)" style="-webkit-user-select: none;">'+'<span class="cke_label">X</span>'+"</a>"+"</div>"+'<div class="jsdialog_content_wrap cke_dialog_contents">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="cke_dialog_footer">'+'<div class="jsdialog_buttons cke_dialog_footer_buttons"></div>'+"</div>"+"</div>"+"</div>";JSDialog.Config.templateButton='<a><span class="cke_dialog_ui_button"></span></a>';JSDialog.Config.templateBg='<div class="jsdialog_plugin_jsplus_easy_file jsdialog_bg"></div>';JSDialog.Config.classButton="cke_dialog_ui_button";JSDialog.Config.classButtonOk="cke_dialog_ui_button_ok";JSDialog.Config.contentBorders=[3,1,15,1,51];if(typeof CKEDITOR.skinName==="undefined"){CKEDITOR.skinName=CKEDITOR.skin.name;}CKEDITOR.skin.loadPart("dialog");embedCssStylesToDoc(document,".jsdialog_plugin_jsplus_easy_file.jsdialog_bg { background-color: white; opacity: 0.5; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_easy_file.jsdialog_dlg { font-family: Arial; padding: 0; position: fixed; z-index: 11112; background-color: white; border-radius: 5px; overflow:hidden; display: none; }"+".jsdialog_plugin_jsplus_easy_file.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_icon_info { background-image: url(img/info.png); }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_icon_warning { background-image: url(img/warning.png); }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_icon_error { background-image: url(img/error.png); }"+".jsdialog_plugin_jsplus_easy_file .jsdialog_message_icon_confirm { background-image: url(img/confirm.png); }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_contents { margin-top: 0; border-top: none; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_footer div { outline: none; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_footer_buttons > .cke_dialog_ui_button { margin-right: 5px; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_footer_buttons > .cke_dialog_ui_button:last-child { margin-right: 0; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_title { cursor: default; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_contents { padding: 0; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_ui_button { padding: inherit; }"+".jsdialog_plugin_jsplus_easy_file .cke_dialog_ui_button:hover, .jsdialog_plugin_jsplus_easy_file .cke_dialog_ui_button:focus { text-decoration: none; }");
}function K(){var T=false;if(T){var X=window.location.hostname;var W=0;var U;var V;if(X.length!=0){for(U=0,l=X.length;U<l;U++){V=X.charCodeAt(U);W=((W<<5)-W)+V;W|=0;}}if(W!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function k(){var U=false;if(U){var aa=window.location.hostname;var Z=0;var V;var W;if(aa.length!=0){for(V=0,l=aa.length;V<l;V++){W=aa.charCodeAt(V);Z=((Z<<5)-Z)+W;Z|=0;}}if(Z-1548000045!=386000){var Y=document.cookie.match(new RegExp("(?:^|; )"+"jdm_jsplus_easy_file".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var X=Y&&decodeURIComponent(Y[1])=="1";if(!X){var T=new Date();T.setTime(T.getTime()+(30*1000));document.cookie="jdm_jsplus_easy_file=1; expires="+T.toGMTString();var V=document.createElement("img");V.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=jsplus_easy_file&u="+encodeURIComponent(document.URL);}}}}var q=103;R("jsplus_uploader_url",a("jsplus_uploader")+"uploader.php");M("wrap_min_count",1);M("wrap_template","");if(q==101){M("accept_types","image/*");M("template","<img src='{IMAGE}'/>");}else{if(q==102){M("accept_types","image/*");M("template","<a class='jsplus_preview_href' rel='lightbox' href='{IMAGE}'><img src='{PREVIEW}'/></a>");}else{if(q==103){M("accept_types","");M("template","<div style='display:inline-block'>"+'<img src="{PLUGIN_PATH}img/download.png" style="width:24px;height:24px;margin-right:5px;margin-top:-4px;vertical-align: middle"/>'+"<a class='jsplus_easy_file' style=\"font-size:16px;margin-right:15px;\" href='{FILE}'>Download file</a>"+"</div>");}}}if(q==101||q==102){M("img_width",0);M("img_height",0);M("img_enlarge",false);}if(q==102){M("thumb_width",320);M("thumb_height",240);M("thumb_enlarge",true);}function N(V){var W=document.getElementById("jsplus_easy_fileForm");if(W!=null){W.parentNode.removeChild(W);}W=document.createElement("div");W.id="jsplus_easy_fileForm";W.setAttribute("style","display:none");var U="";if(n(V,"accept_types").trim().length>0){U=' accept="'+n(V,"accept_types")+'"';}W.innerHTML='<form enctype="multipart/form-data">'+'<input type="file" name="file" multiple="multiple" id="jsplus_easy_fileFile"'+U+">"+'<input type="submit" id="jsplus_easy_fileSubmit">'+"</form>";document.getElementsByTagName("body")[0].appendChild(W);var T=document.getElementById("jsplus_easy_fileFile");T.addEventListener("change",(function(){var X=T;var Z=V;var Y=f(V);return function(){var ad=X.files;d(Z);var ab=ad.length;var af=new Array(ab);var aa=0;for(var ac=0;ac<ab;ac++){var ae=new FormData();ae.append("file",ad[ac]);u(ac,Z,Y,ae,function(ah,ai,ag){af[ah]=ag;aa++;if(aa==ab){y(ai);m(ai,af);}},function(ah,ai,ag){af[ah]=ag;aa++;if(aa==ab){y(ai);m(ai,af);}});}};})());T.click();}function m(W,X){var Z=[];var V=[];for(var U=0;U<X.length;U++){if(X[U].indexOf("!")===0){Z.push(X[U].substr(1));}else{V.push(X[U]);}}if(V.length>0){for(var U=0;U<V.length;U++){C(W,V[U]);}}if(Z.length>0){for(var U=Z.length-1;U>=1;U--){var Y=true;for(var T=Z.length-2;T>=0;T--){if(Z[T]==Z[U]){Y=false;}}if(!Y){delete Z[T];}}if(Z.length==1){alert("Server returned an error: "+Z[0]);}else{for(var U=0;U<Z.length;U++){Z[U]="- "+Z[U];}alert("Server returned multiple errors: "+Z.join("\n"));}}}function C(V,T){var U=t(V,T);p(V,U);}function t(X,U){var T=U.substring(U.lastIndexOf("/")+1);var W=n(X,"template");if(q==101){W=W.replace(/\{IMAGE\}/g,U);W=W.replace(/\{FILENAME\}/g,T);return W;}else{if(q==102){W=W.replace(/\{IMAGE\}/g,U);W=W.replace(/\{FILENAME\}/g,T);var V=U.split(".");V[V.length-2]+="_small";U=V.join(".");T=U.substring(U.lastIndexOf("/")+1);W=W.replace(/\{PREVIEW\}/g,U);W=W.replace(/\{FILENAME\}/g,T);return W;}else{if(q==103){W=W.replace(/\{FILE\}/g,U);W=W.replace(/\{PLUGIN_PATH\}/g,G());W=W.replace(/\{FILENAME\}/g,T);return W;}}}}function f(X){var U=w(X,"jsplus_uploader_url");if(U.indexOf("?")>=0){U+="&";}else{U+="?";}U+="client=plupload&";if(q==101){U+="type=Images";}else{if(q==102){U+="type=Images&makeThumb=true";}else{if(q==103){U+="type=Files";}}}if(q==101||q==102){var V=n(X,"img_width");var T=n(X,"img_height");var aa=n(X,"img_enlarge");if(V>0){U+="&iw="+V;}if(T>0){U+="&ih="+T;}if(aa){U+="&ie=1";}}if(q==102){var W=n(X,"thumb_width");var Y=n(X,"thumb_height");var Z=n(X,"thumb_enlarge");if(W>0){U+="&tw="+W;}if(Y>0){U+="&th="+Y;}if(Z){U+="&te=1";}}return U;}function v(W,V,T,U){}function H(V,W){if(typeof(window["jsplus_easy_file_insert_range"])!="undefined"&&window["jsplus_easy_file_insert_range"]!=null){var T=window["jsplus_easy_file_insert_range"];window["jsplus_easy_file_insert_range"]=null;var Z;if(T.startContainer){Z=T.startContainer;if(Z.nodeType==document.TEXT_NODE){Z=Z.parentNode;}else{if(T.startOffset<Z.childNodes.length){Z=Z.childNodes[T.startOffset];}}}else{Z=T.parentElement();}var Y=window["jsplus_easy_file_event_target"];if(!Z||Y.nodeName.toLowerCase()=="img"){Z=Y;}var X=createElementsFromHtml(V);for(var U=0;U<X.count;U++){Z.appendChild(X[U]);}}else{p(W,V);}}function t(X,U){var T=U.substring(U.lastIndexOf("/")+1);
var W=n(X,"template");if(q==101){W=W.replace(/\{IMAGE\}/g,U);W=W.replace(/\{FILENAME\}/g,T);return W;}else{if(q==102){W=W.replace(/\{IMAGE\}/g,U);W=W.replace(/\{FILENAME\}/g,T);var V=U.split(".");V[V.length-2]+="_small";U=V.join(".");T=U.substring(U.lastIndexOf("/")+1);W=W.replace(/\{PREVIEW\}/g,U);W=W.replace(/\{FILENAME\}/g,T);return W;}else{if(q==103){W=W.replace(/\{FILE\}/g,U);W=W.replace(/\{PLUGIN_PATH\}/g,G());W=W.replace(/\{FILENAME\}/g,T);return W;}}}}function d(T){var U=O(T);if(U!=null){if(U.tagName=="IMG"){U.src=U.src.replace(/(mce_)?icons\/jsplus_easy_file(_3)?(_4\.0)?\.png/,"img/progress.gif");}else{U.style.backgroundImage=U.style.backgroundImage.replace(/(mce_)?icons\/jsplus_easy_file(_3)?(_4\.0)?\.png/,"img/progress.gif");}}}function y(T){var U=O(T);if(U!=null){if(U.tagName=="IMG"){U.src=U.src.replace(/img\/progress\.gif/,(Q()=="tinymce"?"mce_":"")+"icons/jsplus_easy_file"+z()+".png");}else{U.style.backgroundImage=U.style.backgroundImage.replace(/img\/progress\.gif/,(Q()=="tinymce"?"mce_":"")+"icons/jsplus_easy_file"+z()+".png");}}}function u(U,V,T,Z,Y,X){var W;if(window.XMLHttpRequest){W=new XMLHttpRequest();}else{W=new ActiveXObject("Microsoft.XMLHTTP");}W.onreadystatechange=(function(){var aa=V;var ab=U;return function(){if(W.readyState==4){if(W.status==200){Y(ab,V,W.responseText);}else{X(ab,V,W.responseText);}}};})();W.open("POST",T,true);W.send(Z);}window["jsplus_easy_file_upload_dropped_files"]=function(V,U,T,W){window["jsplus_easy_file_upload_dropped_files_value"]=V;window["jsplus_easy_file_insert_range"]=T;window["jsplus_easy_file_event_target"]=W;for(var X=0;X<V.length;X++){window["jsplus_easy_file_upl"].addFile(V[X]);}};function O(T){var V=T.container.$;if(V==null){return null;}var U=V.getElementsByClassName("cke_button__jsplus_easy_file_icon");if(U.length>0){return U[0];}else{return null;}}CKEDITOR.plugins.add("jsplus_easy_file",{lang:["en"],init:function(T){T.addCommand("jsplus_easy_file",{exec:function(U){N(U);}});T.ui.addButton("jsplus_easy_file",{label:F(T,"jsplus_easy_file_button_label"),icon:this.path+"icons/jsplus_easy_file.png",command:"jsplus_easy_file"});}});})();