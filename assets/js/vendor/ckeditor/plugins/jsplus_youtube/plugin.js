(function(){var a="jsplus_youtube";CKEDITOR.plugins.add(a,{requires:"dialog,fakeobjects",icons:"jsplus_youtube",lang:"en",onLoad:function(){CKEDITOR.addCss("img.cke_jsplus_youtube"+"{"+"background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");"+"background-position: center center;"+"background-repeat: no-repeat;"+"border: 1px solid #a9a9a9;"+"width: 121px;"+"height: 80px;"+"}");},beforeInit:function(b){CKEDITOR.tools.extend(b.lang.fakeobjects,{jsplus_youtube:b.lang.jsplus_youtube.title});},init:function(b){var c=b.lang.jsplus_youtube;CKEDITOR.dialog.add(a,this.path+"dialogs/youtube.js");b.addCommand(a,new CKEDITOR.dialogCommand(a,{allowedContent:"iframe[width,height,src,frameborder,allowfullscreen];object;param[name,value];embed[src,type,width,height,allowscriptaccess,allowfullscreen]",requiredContent:"iframe[src];embed[src]"}));b.ui.addButton&&b.ui.addButton("jsplus_youtube",{label:c.label,icon:this.path+"icons/jsplus_youtube.png",title:c.title,command:a,toolbar:"insert,60"});b.on("doubleclick",function(d){var e=d.data.element;if(e.is("img")&&e.data("cke-real-element-type")=="jsplus_youtube"){d.data.dialog="jsplus_youtube";}});if(b.addMenuItems){b.addMenuItems({jsplus_youtube:{label:c.menu,command:a,group:"image"}});}if(b.contextMenu){b.contextMenu.addListener(function(d,e){if(d&&d.is("img")&&d.data("cke-real-element-type")=="jsplus_youtube"){return{jsplus_youtube:CKEDITOR.TRISTATE_OFF};}});}},afterInit:function(c){var b=c.dataProcessor,e=b&&b.dataFilter,d=/www\.youtube(?:-nocookie)?\.com/;if(e){e.addRules({elements:{iframe:function(f){if(f.attributes&&f.attributes.src&&d.test(f.attributes.src)){return c.createFakeParserElement(f,"cke_jsplus_youtube","jsplus_youtube",true);}return f;},"cke:object":function(h){for(var g=0;g<h.children.length;g++){var k=h.children[g];if(k.name=="cke:embed"&&k.attributes&&k.attributes.src&&d.test(k.attributes.src)){var f=c.createFakeParserElement(h,"cke_jsplus_youtube","jsplus_youtube"),j=new CKEDITOR.htmlParser.cssStyle();k.attributes.width&&(j.rules.width=k.attributes.width+"px");k.attributes.height&&(j.rules.height=k.attributes.height+"px");j.populate(f);return f;}}return h;}}});}}});})();